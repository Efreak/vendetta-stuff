(function(A,P,D,R,l,o,b,q,J,z,v){"use strict";const w="",K={DETAILED:"detailed"},$={SEMICOL:", ",NEW_LINE:`
`},i={ENABLED:"\u{1F7E2}",DISABLED:"\u{1F534}",SELECTED:"\u{1F536}",NOT_SELECTED:"\u{1F537}"},Q="Nothing to see here, huh...",N={NAME:"detailed",DESCRIPTION:"Whether to send a list with detailed information."},L={NAME:"plugin-list",DISPLAY_NAME:"plugin list",DESCRIPTION:"Send your plugin list to the current channel"},T={NAME:"theme-list",DISPLAY_NAME:"theme list",DESCRIPTION:"Send your theme list to the current channel"},g="https://vd-plugins.github.io/proxy/actuallythesun.github.io/vendetta-plugins/SplitLargeMessages/",m={SLM_NOT_INSTALLED:`Your list is too long to send it! Please install the [Split Large Messages](${g}) plugin.`,SLM_NOT_ENABLED:`Your list is too long to send it! You have the Split Large Messages plugin installed, but it's not enabled!
> Please enable it in order to send the list.`},u={CONTENT:"Your list is over than 2000 characters. Are you sure?",CONFIRM:"Yes",CANCEL:"No"},X=D.findByProps("sendMessage","receiveMessage"),S=D.findByProps("sendBotMessage"),B=D.findByStoreName("UserStore").getCurrentUser()?.premiumType===2?4e3:2e3,F=function(e){return Object.keys(e).includes(g)},j=function(e){return Object.values(e).find(function(t){return t.id==g}).enabled},Y=function(e){return e.find(function(t){return t.name===K.DETAILED})?.value??!1},I=function(e){return e.map(function(t){return t.name}).join($.SEMICOL)},x=function(e){return e.join($.NEW_LINE).trimEnd()},f=function(e){return x(e).length},h=async function(e,t){return await X.sendMessage(e,{content:x(t)})},G=function(e,t){return[`**My ${e} List | ${t} ${e}s**`,w]};async function Z(e,t){const y=Y(e),M=o.storage.themeListAlwaysDetailed??!1,r=Object.values(R.themes),n=t.channel.id,s=G("Theme",Object.keys(R.themes).length);if(r.length)for(const c of r){const{selected:a,data:O,id:C}=c,{name:E,description:_,authors:p}=O;y||M?s.push(`> **Name**: ${E}`,`> **Selected**: ${a?i.SELECTED:i.NOT_SELECTED}`,`> **Description**: ${_}`,`> **Authors**: ${I(p)}`,`> **[Install!](${C})**`,w):s.push(`> ${a?i.SELECTED:i.NOT_SELECTED} **${E}** by ${I(p)}`)}else s.push(Q);const d=f(s)>B;if(d&&!F(l.plugins))S.sendBotMessage(n,m.SLM_NOT_INSTALLED);else if(d&&!j(l.plugins))S.sendBotMessage(n,m.SLM_NOT_ENABLED);else{if(f(s)>2e3)return b.alerts.showConfirmationAlert({content:u.CONTENT,confirmText:u.CONFIRM,cancelText:u.CANCEL,onConfirm:async function(){return await h(n,s)}});await h(n,s)}}async function ee(e,t){const y=Y(e),M=o.storage.pluginListAlwaysDetailed??!1,r=t.channel.id,n=G("Plugin",Object.keys(l.plugins).length),s=function(c,a){return c.manifest.name<a.manifest.name?-1:c.manifest.name>a.manifest.name?1:0};for(const c of Object.values(l.plugins).sort(s)){const{enabled:a,manifest:O,id:C}=c,{name:E,description:_,authors:p}=O;y||M?n.push(`- ${a?i.ENABLED:i.DISABLED} [${E}](${C}): ${_.split(`
`)[0]}`):n.push(`> ${a?i.ENABLED:i.DISABLED} **${E}** by ${I(p)}`)}const d=f(n)>B;if(d&&!F(l.plugins))S.sendBotMessage(r,m.SLM_NOT_INSTALLED);else if(d&&!j(l.plugins))S.sendBotMessage(r,m.SLM_NOT_ENABLED);else{if(f(n)>2e3)return b.alerts.showConfirmationAlert({content:u.CONTENT,confirmText:u.CONFIRM,cancelText:u.CANCEL,onConfirm:async function(){return await h(r,n)}});await h(r,n)}}function te(){const e=[],t={options:[{name:N.NAME,displayName:N.NAME,description:N.DESCRIPTION,displayDescription:N.DESCRIPTION,type:5,required:!1}],inputType:1,type:1,applicationId:"-1"};return e.push(P.registerCommand({name:L.NAME,displayName:L.DISPLAY_NAME,description:L.DESCRIPTION,displayDescription:L.DESCRIPTION,execute:ee,...t}),P.registerCommand({name:T.NAME,displayName:T.DISPLAY_NAME,description:T.DESCRIPTION,displayDescription:T.DESCRIPTION,execute:Z,...t})),e}function ne(e){for(const t of e)t()}const{FormSwitchRow:U,FormIcon:k,FormSection:V}=v.Forms,W={List:z.getAssetIDByName("ic_list")};function se(){return J.useProxy(o.storage),React.createElement(v.ErrorBoundary,null,React.createElement(q.ReactNative.ScrollView,{style:{flex:1}},React.createElement(V,{title:"Plugin List",titleStyleType:"no_border"},React.createElement(U,{label:"Always send detailed list",subLabel:'This will keep the "detailed" option always set to "True"',leading:React.createElement(k,{source:W.List}),onValueChange:function(e){return o.storage.pluginListAlwaysDetailed=e},value:o.storage.pluginListAlwaysDetailed})),React.createElement(V,{title:"Theme List",titleStyleType:"no_border"},React.createElement(U,{label:"Always send detailed list",subLabel:'This will keep the "detailed" option always set to "True"',leading:React.createElement(k,{source:W.List}),onValueChange:function(e){return o.storage.themeListAlwaysDetailed=e},value:o.storage.themeListAlwaysDetailed}))))}let H;var ie={onLoad:function(){H=te()},onUnload:function(){ne(H)},settings:se};return A.default=ie,Object.defineProperty(A,"__esModule",{value:!0}),A})({},vendetta.commands,vendetta.metro,vendetta.themes,vendetta.plugins,vendetta.plugin,vendetta.ui,vendetta.metro.common,vendetta.storage,vendetta.ui.assets,vendetta.ui.components);

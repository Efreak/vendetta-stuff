(function(p,_,D,P,l,a,R,q,J,z,b){"use strict";const v="",K={DETAILED:"detailed"},w={SEMICOL:", ",NEW_LINE:`
`},i={ENABLED:"\u{1F7E2}",DISABLED:"\u{1F534}",SELECTED:"\u{1F536}",NOT_SELECTED:"\u{1F537}"},Q="Nothing to see here, huh...",u={NAME:"detailed",DESCRIPTION:"Whether to send a list with detailed information."},c={NAME:"plugin-list",DISPLAY_NAME:"plugin list",DESCRIPTION:"Send your plugin list to the current channel"},d={NAME:"theme-list",DISPLAY_NAME:"theme list",DESCRIPTION:"Send your theme list to the current channel"},g="https://vd-plugins.github.io/proxy/actuallythesun.github.io/vendetta-plugins/SplitLargeMessages/",E={SLM_NOT_INSTALLED:`Your list is too long to send it! Please install the [Split Large Messages](${g}) plugin.`,SLM_NOT_ENABLED:`Your list is too long to send it! You have the Split Large Messages plugin installed, but it's not enabled!
> Please enable it in order to send the list.`},r={CONTENT:"Your list is over than 2000 characters. Are you sure?",CONFIRM:"Yes",CANCEL:"No"},X=D.findByProps("sendMessage","receiveMessage"),N=D.findByProps("sendBotMessage"),$=D.findByStoreName("UserStore").getCurrentUser()?.premiumType===2?4e3:2e3,B=function(e){return Object.keys(e).includes(g)},F=function(e){return Object.values(e).find(function(t){return t.id==g}).enabled},j=function(e){return e.find(function(t){return t.name===K.DETAILED})?.value??!1},I=function(e){return e.map(function(t){return t.name}).join(w.SEMICOL)},Y=function(e){return e.join(w.NEW_LINE).trimEnd()},L=function(e){return Y(e).length},T=async function(e,t){return await X.sendMessage(e,{content:Y(t)})},x=function(e,t){return[`**My ${e} List | ${t} ${e}s**`,v]};async function Z(e,t){const y=j(e),M=a.storage.themeListAlwaysDetailed??!1,o=Object.values(P.themes),n=t.channel.id,s=x("Theme",Object.keys(P.themes).length);if(o.length)for(const h of o){const{selected:m,data:O,id:A}=h,{name:f,description:C,authors:H}=O;y||M?s.push(`> **Name**: ${f}`,`> **Selected**: ${m?i.SELECTED:i.NOT_SELECTED}`,`> **Description**: ${C}`,`> **Authors**: ${I(H)}`,`> **[Install!](${A})**`,v):s.push(`> ${m?i.SELECTED:i.NOT_SELECTED} **${f}** by ${I(H)}`)}else s.push(Q);const S=L(s)>$;if(S&&!B(l.plugins))N.sendBotMessage(n,E.SLM_NOT_INSTALLED);else if(S&&!F(l.plugins))N.sendBotMessage(n,E.SLM_NOT_ENABLED);else{if(L(s)>2e3)return R.alerts.showConfirmationAlert({content:r.CONTENT,confirmText:r.CONFIRM,cancelText:r.CANCEL,onConfirm:async function(){return await T(n,s)}});await T(n,s)}}async function ee(e,t){const y=j(e),M=a.storage.pluginListAlwaysDetailed??!1,o=t.channel.id,n=x("Plugin",Object.keys(l.plugins).length);for(const S of Object.values(l.plugins)){const{enabled:h,manifest:m,id:O}=S,{name:A,description:f,authors:C}=m;y||M?n.push(`- ${h?i.ENABLED:i.DISABLED} [${A}](${O}): ${f.split(`
`)[0]}`):n.push(`> ${h?i.ENABLED:i.DISABLED} **${A}** by ${I(C)}`)}const s=L(n)>$;if(s&&!B(l.plugins))N.sendBotMessage(o,E.SLM_NOT_INSTALLED);else if(s&&!F(l.plugins))N.sendBotMessage(o,E.SLM_NOT_ENABLED);else{if(L(n)>2e3)return R.alerts.showConfirmationAlert({content:r.CONTENT,confirmText:r.CONFIRM,cancelText:r.CANCEL,onConfirm:async function(){return await T(o,n)}});await T(o,n)}}function te(){const e=[],t={options:[{name:u.NAME,displayName:u.NAME,description:u.DESCRIPTION,displayDescription:u.DESCRIPTION,type:5,required:!1}],inputType:1,type:1,applicationId:"-1"};return e.push(_.registerCommand({name:c.NAME,displayName:c.DISPLAY_NAME,description:c.DESCRIPTION,displayDescription:c.DESCRIPTION,execute:ee,...t}),_.registerCommand({name:d.NAME,displayName:d.DISPLAY_NAME,description:d.DESCRIPTION,displayDescription:d.DESCRIPTION,execute:Z,...t})),e}function ne(e){for(const t of e)t()}const{FormSwitchRow:G,FormIcon:U,FormSection:k}=b.Forms,V={List:z.getAssetIDByName("ic_list")};function se(){return J.useProxy(a.storage),React.createElement(b.ErrorBoundary,null,React.createElement(q.ReactNative.ScrollView,{style:{flex:1}},React.createElement(k,{title:"Plugin List",titleStyleType:"no_border"},React.createElement(G,{label:"Always send detailed list",subLabel:'This will keep the "detailed" option always set to "True"',leading:React.createElement(U,{source:V.List}),onValueChange:function(e){return a.storage.pluginListAlwaysDetailed=e},value:a.storage.pluginListAlwaysDetailed})),React.createElement(k,{title:"Theme List",titleStyleType:"no_border"},React.createElement(G,{label:"Always send detailed list",subLabel:'This will keep the "detailed" option always set to "True"',leading:React.createElement(U,{source:V.List}),onValueChange:function(e){return a.storage.themeListAlwaysDetailed=e},value:a.storage.themeListAlwaysDetailed}))))}let W;var ie={onLoad:function(){W=te()},onUnload:function(){ne(W)},settings:se};return p.default=ie,Object.defineProperty(p,"__esModule",{value:!0}),p})({},vendetta.commands,vendetta.metro,vendetta.themes,vendetta.plugins,vendetta.plugin,vendetta.ui,vendetta.metro.common,vendetta.storage,vendetta.ui.assets,vendetta.ui.components);
